# Benchmarking

Benchmarks in this repository:

* `basic_term_benchmark`: Replicate the cashflows of the [LifeLib BasicTerm model](https://github.com/lifelib-dev/lifelib/tree/main/lifelib/libraries/basiclife/BasicTerm_M)
    * Python [LifeLib BasicTerm_M](https://github.com/lifelib-dev/lifelib/tree/main/lifelib/libraries/basiclife/BasicTerm_M)
    * Julia [using LifeSimulator](https://github.com/JuliaActuary/LifeSimulator.jl)
    * Python [using custom memoization decorator](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_scratch.py)
    * Python [using JAX](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_jax.py)
* `exposures`: Create date partitions for experience studies
    * Julia [ExperienceAnalysis](https://github.com/JuliaActuary/ExperienceAnalysis.jl)
    * R [actxps](https://github.com/mattheaphy/actxps)
* `mortality`: Read SOA mortality tables and use them in a simple calculation
    * Julia [MortalityTables](https://github.com/JuliaActuary/MortalityTables.jl)
    * Python [Pymort](https://github.com/actuarialopensource/pymort)

We also provide [a notebook](Julia/notebooks/analysis.ipynb) to carry out further analyses with regard to performance and memory complexity.

The below results are generated by the benchmarking scripts in the folders for each language. These scripts are run automatically by GitHub Actions and populate the results below. 
```yaml 
basic_term_benchmark:
- Julia Benchmarks basic_term:
    mean: TrialEstimate(171.476 ms)
    result: 1.4489630534602132e7
- Python jax basic_term_m:
    mean: 355.6701745500007 milliseconds
    result: 14489630.53460337
  Python lifelib basic_term_m:
    mean: 1187.1896048500005 milliseconds
    result: 14489630.534601536
  Python scratch basic_term_m:
    mean: 956.6004929000002 milliseconds
    result: 14489630.534603368
exposures:
- Julia ExperienceAnalysis.jl:
    mean: TrialEstimate(49.043 ms)
    num_rows: 141281
- R actxps:
    mean: 715.1663 ms
    num_rows: 141281
mortality:
- Julia MortalityTables.jl:
    mean: TrialEstimate(601.194 Î¼s)
    result: 1904.4865526636793
- Python PyMort:
    mean: 2572.81896565 milliseconds
    result: 1904.4865526636793
savings_benchmark:
- Julia Benchmarks savings:
    mean: TrialEstimate(183.040 ms)
    result: 3.507113709040273e12
- Python lifelib cashvalue_me_ex4:
    mean: 1195.4786759 milliseconds
    result: 3507113709040.141
```