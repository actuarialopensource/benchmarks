# Benchmarking

Benchmarks in this repository:

* `basic_term_benchmark`: Replicate the cashflows of the [LifeLib BasicTerm model](https://github.com/lifelib-dev/lifelib/tree/main/lifelib/libraries/basiclife/BasicTerm_M)
    * Python [LifeLib BasicTerm_M](https://github.com/lifelib-dev/lifelib/tree/main/lifelib/libraries/basiclife/BasicTerm_M)
    * Julia [using LifeSimulator](https://github.com/JuliaActuary/LifeSimulator.jl)
    * Python [using custom memoization decorator](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_scratch.py)
    * Python [using JAX](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_jax.py)
* `exposures`: Create date partitions for experience studies
    * Julia [ExperienceAnalysis](https://github.com/JuliaActuary/ExperienceAnalysis.jl)
    * R [actxps](https://github.com/mattheaphy/actxps)
* `mortality`: Read SOA mortality tables and use them in a simple calculation
    * Julia [MortalityTables](https://github.com/JuliaActuary/MortalityTables.jl)
    * Python [Pymort](https://github.com/actuarialopensource/pymort)

We also provide [a notebook](Julia/notebooks/analysis.ipynb) to carry out further analyses with regard to performance and memory complexity.

The below results are generated by the benchmarking scripts in the folders for each language. These scripts are run automatically by GitHub Actions and populate the results below. 
```yaml 
basic_term_benchmark:
- Julia Benchmarks basic_term:
    minimum time: TrialEstimate(115.716 ms)
    result: 1.4489630534602132e7
- Python jax basic_term_m:
    minimum time: 137.94491999999536 milliseconds
    result: 14489630.534632105
  Python lifelib basic_term_m:
    minimum time: 651.5903700000081 milliseconds
    result: 14489630.534629744
  Python scratch basic_term_m:
    minimum time: 546.39288300001 milliseconds
    result: 14489630.53463211
exposures:
- Julia ExperienceAnalysis.jl:
    minimum time: TrialEstimate(39.369 ms)
    num_rows: 141281
- R actxps:
    min: 729.0774 ms
    num_rows: 141281
mortality:
- Julia MortalityTables.jl:
    minimum time: TrialEstimate(433.200 Î¼s)
    result: 1904.4865526636793
- Python PyMort:
    minimum time: 1536.739866000005 milliseconds
    result: 1904.4865526636793
savings_benchmark:
- Julia Benchmarks savings:
    minimum time: TrialEstimate(155.431 ms)
    result: 3.507113709040271e12
- Python lifelib cashvalue_me_ex4:
    minimum time: 647.4501129999908 milliseconds
    result: 3507113709040.1416
```