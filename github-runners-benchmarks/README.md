The benchmarking repository for some time has autogenerated the top-level README from within GitHub actions.

As we expand our benchmarking activities for GPUs and larger scale calculations, the GitHub hosted runners are still used, but we will be focusing more efforts on Docker containers.

The top-level readme is not autogenerated, this file will be, and probably will have results copied and pasted into the top-level readme manually.

# Benchmarking

Benchmarks in this repository:

* `basic_term_benchmark`: Replicate the cashflows of the [LifeLib BasicTerm model](https://github.com/lifelib-dev/lifelib/tree/main/lifelib/libraries/basiclife/BasicTerm_M)
    * Python [LifeLib BasicTerm_M](https://github.com/lifelib-dev/lifelib/tree/main/lifelib/libraries/basiclife/BasicTerm_M)
    * Julia [using LifeSimulator](https://github.com/JuliaActuary/LifeSimulator.jl)
    * Python using recursive formulas with [PyTorch](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_recursive_pytorch.py) and [NumPy](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_recursive_numpy.py)
    * Python using matrix operations (no recursion) on [PyTorch arrays](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_array_pytorch.py) and [NumPy arrays](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_array_numpy.py)
* `exposures`: Create date partitions for experience studies
    * Julia [ExperienceAnalysis](https://github.com/JuliaActuary/ExperienceAnalysis.jl)
    * R [actxps](https://github.com/mattheaphy/actxps)
* `mortality`: Read SOA mortality tables and use them in a simple calculation
    * Julia [MortalityTables](https://github.com/JuliaActuary/MortalityTables.jl)
    * Python [Pymort](https://github.com/actuarialopensource/pymort)

The below results are generated by the benchmarking scripts in the folders for each language. These scripts are run automatically by GitHub Actions and populate the results below. 

```yaml 
basic_term_benchmark:
- Julia array basic_term:
    minimum time: TrialEstimate(29.152 ms)
    result: 1.4489630534602132e7
  Julia recursive basic_term:
    minimum time: TrialEstimate(81.070 ms)
    result: 1.4489630534602132e7
- Python array numpy basic_term_m:
    minimum time: 81.15190000000894 milliseconds
    result: 14489630.534603368
  Python array pytorch basic_term_m:
    minimum time: 48.05233400000475 milliseconds
    result: 14489630.534603368
  Python lifelib basic_term_m:
    minimum time: 606.547575999997 milliseconds
    result: 14489630.534601536
  Python recursive numpy basic_term_m:
    minimum time: 47.489563999988604 milliseconds
    result: 14489630.534603368
  Python recursive pytorch basic_term_m:
    minimum time: 73.68574099999137 milliseconds
    result: 14489630.53460337
basic_term_me_benchmark:
- Python heavylight numpy basic_term_me:
    minimum time: 347.3877970000103 milliseconds
    result: 215146132.0684811
  Python lifelib basic_term_me:
    minimum time: 1140.047031999984 milliseconds
    result: 215146132.06848112
  Python recursive numpy basic_term_me:
    minimum time: 325.56454799998846 milliseconds
    result: 215146132.0684814
exposures:
- Julia ExperienceAnalysis.jl:
    minimum time: TrialEstimate(29.284 ms)
    num_rows: 141281
- R actxps:
    min: 470.446116 ms
    num_rows: 141281
mortality:
- Julia MortalityTables.jl:
    minimum time: TrialEstimate(239.946 Î¼s)
    result: 1904.4865526636793
- Python PyMort:
    minimum time: 9.101711999988993 milliseconds
    result: 1904.4865526636793
savings_benchmark:
- Julia Benchmarks savings:
    minimum time: TrialEstimate(118.603 ms)
    result: 3.507113709040273e12
- Python lifelib cashvalue_me_ex4:
    minimum time: 602.367275000006 milliseconds
    result: 3507113709040.141
  Python recursive numpy cashvalue_me_ex4:
    minimum time: 541.5200040000059 milliseconds
    result: 3507113709040.124
```
